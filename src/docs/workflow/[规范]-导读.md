## 前言 
出于整个团队代码可读性、可维护性考量，有必要约定一套基本规范（包括代码命名、基础设施、提交日志、对外文档、测试等方面），供各团队都能参考，从而提升项目可持续性发展，也便于成员之间，能很好提升代码 CoverReview 效率等。


## 开发利器
强烈推荐 `vscode`

> 参考 [[规范]-开发相关插件/工具](http://wiki.icinfo.co/pages/viewpage.action?pageId=18789576)

## 项目规范

###  README
`README.md` 是开源项目的门面，须高度重视。

一定要说明以下几个事：
- 介绍项目的基本情况，功能以及主要的技术栈
- 项目调试/运行依赖的环境有什么
- 项目第一次从代码库拉下来必须要进行的配置文件在哪里
- 项目有哪几个环境，如何打包/运行
- 项目如何进行测试，一些账号信息等

> 参考 [[规范]-README模板](http://wiki.icinfo.co/pages/viewpage.action?pageId=18789595)

### 代码格式
- 默认编码：utf-8
- 默认缩进：4个空格
- 尽可能不要分号
- 默认单引号
- 默认换行：LF
- 代码格式化：prettier

> 修改别人代码只动修改点而不是整个文件格式化

### 命名规范
- **语义化**：保证命名高度具有可读性，力争做到：见名知义；
- **参数、公有方法名**：统一小驼峰（camelCased）；
- **CSS 命名**：统一短横线&小写（kebab-case），更推荐使用类以提升效率；
- **文件名，文件夹**：统一短横线&小写（kebab-case）；
- **类名或公开对象**：统一大驼峰（CamelCased）；
- **私有字段或方法**：统一加 `_` 或者 `$` 前缀（_camelCasing）；
- **全局变量**：统一加上 g 前缀；Eg：gCoreVersion；
- **布尔类型值/方法**：统一以 is、can、 has 打头（同时优先遵循上一条）；
- **事件、方法回调**：分别以 on、handle 打头；
- **常量**：统一采用“全大写 + 下划线的方法命名”，Eg: EVENT_LIMITATION；
- 尽量避免使用缩写，除非是大众流行（application => app ✅ group => grp ❌）；

> 所有命名，除非是 for/forEach 内的 key(/item)，其他一律要使其该有的语义。

参考
- [[规范]-JavaScript命名](http://wiki.icinfo.co/pages/viewpage.action?pageId=18789589)
- [[规范]-CSS命名](http://wiki.icinfo.co/pages/viewpage.action?pageId=18789592)


### 目录说明
- 全局样式以`my`开头(my-color-gray)
- 全局组件以`base`开头(base-input)
- 所有的页面以文件目录作为名字(src/views/admin/role/list/index.vue-> 组件名`AdminRoleList`,页面样式`.admin-role-list`)
- 如果是业务或者基础组件，样式规范请使用[BEM规范](https://www.bemcss.com/)
```
src                               源码目录
  |-- api                              所有api接口
  |-- assets                           静态资源，images, icons, styles等
  |-- components                       公用组件
  |-- config                           配置信息
  |-- constants                        常量信息，项目所有Enum, 全局常量等
  |-- directives                       自定义指令
  |-- filters                          过滤器，全局工具
  |-- datas                            模拟数据，临时存放
  |-- lib                              外部引用的插件存放及修改文件
  |-- mock                             模拟接口，临时存放
  |-- plugins                          插件，全局使用
  |-- router                           路由，统一管理
  |-- store                            vuex, 统一管理
  |-- themes                           自定义样式主题
  |-- views                            视图目录
  |   |-- role                             role模块名
  |   |-- |-- index.vue                   
  |   |-- |-- index.less                      role模块样式
  |   |-- |-- components                      role模块通用组件文件夹
  |   |-- employee                         employee模块
```


参考
- [[规范]-Vue 项目规范](http://wiki.icinfo.co/pages/viewpage.action?pageId=18789583)

### 关于注释
- 公共函数必须有注释
- 组件props必须有注释

```
/**
 * 判断要查询的数组是否至少有一个元素包含在目标数组中
 * @date 2021-03-11
 * @param {Array} target 目标数组
 * @param {Array} arr 需要查询的数组
 * @returns {Boolean}
 */
export const hasOneOf = (target, arr) => {
    return target.some(_ => arr.indexOf(_) > -1);
};
```


## 代码规范

### JavaScript
- 启用 [eslint](https://eslint.org/) 
- 保证可读性、健壮性、可扩展性、可维护性；
- 尽可能拆分单一任务，于一个方法之中，使得代码更清晰，更易于复用；
- 推荐参考 [clean-code-javascript](https://github.com/ryanmcdermott/clean-code-javascript)，争取写出更干净优雅的代码；

### CSS 
除了尽量使用类（最大限度上不要使用内联样式），准确而优雅的命名之外，请善用预处理工具，对各种 color、size、z-index 等常用的属性，统一定义变量，方便编写，更利于后期维护；同时，还有常用方法，如居中、去浮动、阴影特效等操作统一封装（mixin），提升编写、维护效率，也能缩减源码量；对于 CSS 预处理器，推荐使用 Less 或者 Stylus，而 Sass 会依赖 node-sass，而 node-sass 需要借助 Python 和 C++ 才能编译；跟环境耦合太重，很多时候，会出问题，但通过 `npm rebuild node-sass`命令，并不是所有时候都能解决问题

### HTML
推荐参考[编写一致、灵活和可持续的 HTML 和 CSS 代码的规范](https://codeguide.bootcss.com/)；

## 性能检查
每个项目有所区别，请阅读 [Front-End Performance Checklist](https://github.com/thedaviddias/Front-End-Performance-Checklist)、[Front-End Checklist](https://github.com/thedaviddias/Front-End-Checklist) 所给出的建议，确保项目是采取更优的用法。

- Vue项目可以使用`vue-cli-service build --report`命名查看`report.html`，检查资源大小，固定的第三方依赖尽量以CDN方式引入
- 图片格式优先顺序 webp > jpg > png
- 服务器是否开启gzip压缩以及静态资源缓存


## 分支命名规范
### master 分支
- master 为主分支，也是线上分支，确保 master 分支稳定性；
- master 分支一般由 release 以及 hotfix 分支合并，任何时间都不能直接修改代码；

### develop 分支
- develop 为开发和提测分支，始终保持最新完成以及 bug修复后的代码；
- 一般开发的新功能时，feature 分支都是基于 develop 分支下创建的；

### feature 分支
- 开发新功能时，以 develop 为基础创建 feature 分支
- 分支命名: feature/ 开头的为特性分支， 命名规则: feature-1.0.0-admin-role-mjh；

### release 分支
- release 为上线分支，发布阶段，会将develop合并到release 发布，完成后合并到master并打tag


### hotfix 分支
- 分支命名: hotfix/ 开头的为修复分支，它的命名规则与 feature 分支类似；
- 线上出现紧急问题时，需要及时修复，以 master 分支为基线，创建 hotfix 分支，修复完成后，需要合并到 master 分支和 develop 分支；



## 完备测试
参考[[规范]-前端自测](http://wiki.icinfo.co/pages/viewpage.action?pageId=18789602)

## 搜索引擎优化清单
- 安装Google Analytics（分析）
- 设置 Google Search Console
- 在 Google 的Search Console 中检查抓取错误，重复内容错误，标题丢失和其他技术错误
- 抽查重定向问题（特别是 302 错误，应该为 301s）Browseo.net
- 寻找断开的链接，错误和爬行问题 Seo Spider
- 尝试将主要关键字纳入您的页面网址网址最佳做法
- 将关键字添加到标题标签。您的标题标签引人注目吗？标题标签预览工具
- 将关键字添加到您的 H1 标签。确保仅使用一个 H1 标签，并确保它在文档中显示在 H2，H3 等之前。
- 向页面添加可抓取的文本
- 是否有配置 title、 description（含社交系）meta；
- 针对图片指定对应的 alt（SEO）；
- 是否配置配置 favicon、语言等；
- 使用对 SEO 友好的文本链接到您网站上的其他页面。内部链接的最佳做法
- 确保您没有重复的内容（非 www 到 www 重定向）
- 检查您网站的速度并保持快速！Google Page Speed 工具
- 确保您的网站适合移动设备。Google Mobile Friendly 测试工具
- 创建 XML 网站地图，并将其提交到 Google Search Console
- 创建 robots.txt 文件并将其提交到 Google Search Console Google Robots.txt
- 在尽可能多的社交网站上声明您的品牌名称。Namechk
- 使用 SEO 审核工具仔细检查所有内容。Seo Checklist Analysis

可使用工具：[Checklist Tools Website](https://alexisdanizan.github.io/)。

## 一些建议

- UI-蓝湖
- 产品原型有链接（版本更新有说明）
- 后端的API文档齐全