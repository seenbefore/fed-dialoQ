## 题库管理

### 功能：题目管理
菜单路径：题库/题目管理
功能描述：管理系统中的题目，包括单选题、多选题和判断题的增删改查。

查询条件：
1. "题目类型"：下拉单选，选项：全部、单选题、多选题、判断题，默认全部
2. "题目内容"：输入框，placeholder为"请输入题目内容关键字"
3. "难度等级"：下拉单选，选项：全部、简单、中等、困难，默认全部
4. "创建时间"：日期范围选择器
5. "状态"：下拉单选，选项：全部、启用、停用，默认全部
6. "标签"：下拉多选，可选择多个标签进行筛选

功能点：
1. "新增"：点击后显示"新增题目"弹窗
2. "编辑"：点击后显示"编辑题目"弹窗
3. "删除"：点击后显示删除确认弹窗
4. "批量导入"：点击后显示批量导入弹窗
5. "导出"：导出选中题目或全部题目
6. "预览"：点击后显示题目预览弹窗

列表展示数据项：
1. "序号"：序号
2. "题目类型"：题目类型（单选题/多选题/判断题）
3. "题目内容"：题目内容，超出部分显示省略号
4. "难度等级"：难度等级（简单/中等/困难）
5. "标签"：题目标签，多个标签用逗号分隔
6. "创建时间"：创建时间
7. "更新时间"：最后更新时间
8. "状态"：启用/停用状态
9. "操作"：包含"编辑"、"删除"、"预览"按钮

### 功能：新增/编辑题目
页面类型：弹窗
功能描述：新增或编辑题目信息

表单字段：
1. "题目类型"：下拉单选，必填，选项：单选题、多选题、判断题
2. "题目内容"：富文本编辑器，必填，支持图片上传
3. "难度等级"：下拉单选，必填，选项：简单、中等、困难
4. "分值"：数字输入框，必填，默认1分
5. "标签"：下拉多选，可选，支持新增标签
6. "选项"：（单选题和多选题显示）
   - 支持添加多个选项
   - 每个选项包含：选项内容（富文本）、是否正确答案
7. "正确答案"：（判断题显示）单选，选项：正确、错误
8. "解析"：富文本编辑器，可选，支持图片上传
9. "状态"：开关，默认启用

操作：
1. "确定"：保存题目信息
2. "取消"：关闭弹窗
3. "预览"：预览题目效果

### 功能：批量导入题目
页面类型：弹窗
功能描述：通过Excel模板批量导入题目

功能点：
1. "下载模板"：下载Excel导入模板
2. "上传文件"：上传Excel文件
3. "导入预览"：预览待导入的题目数据
4. "开始导入"：执行导入操作

导入模板包含字段：
1. "题目类型"：必填，单选题/多选题/判断题
2. "题目内容"：必填
3. "难度等级"：必填，简单/中等/困难
4. "分值"：必填，数字
5. "选项A-F"：选填，单选题和多选题必填A-D
6. "正确答案"：必填
7. "解析"：选填
8. "标签"：选填，多个标签用分号分隔
9. "状态"：必填，启用/停用

### 功能：题目预览
页面类型：弹窗
功能描述：预览题目的完整信息和答题效果

展示内容：
1. "题目类型"：显示题目类型
2. "题目内容"：显示完整题目内容
3. "选项"：显示所有选项
4. "正确答案"：显示正确答案
5. "解析"：显示题目解析
6. "难度等级"：显示难度等级
7. "分值"：显示题目分值
8. "标签"：显示所有标签

### 接口说明

#### 1. 题目管理接口

##### 1.1 获取题目列表
- 接口路径：`/api/question/list`
- 请求方式：POST
- 请求参数：
```json
{
    "type": "string", // 题目类型，可选
    "content": "string", // 题目内容关键字，可选
    "difficulty": "string", // 难度等级，可选
    "status": "number", // 状态，可选
    "tags": ["string"], // 标签列表，可选
    "createTimeStart": "string", // 创建开始时间，可选
    "createTimeEnd": "string", // 创建结束时间，可选
    "pageNum": "number", // 当前页码，必填
    "length": "number" // 每页条数，必填
}
```
- 响应参数：
```json
{
    "code": 200,
    "message": "success",
    "data": {
        "total": "number", // 总条数
        "data": [{
            "id": "string", // 题目ID
            "type": "string", // 题目类型
            "content": "string", // 题目内容
            "difficulty": "string", // 难度等级
            "score": "number", // 分值
            "tags": ["string"], // 标签列表
            "options": [{ // 选项列表
                "content": "string", // 选项内容
                "isCorrect": "boolean" // 是否正确答案
            }],
            "answer": "string", // 正确答案
            "analysis": "string", // 解析
            "status": "number", // 状态
            "createTime": "string", // 创建时间
            "updateTime": "string" // 更新时间
        }]
    }
}
```

##### 1.2 新增题目
- 接口路径：`/api/question/save`
- 请求方式：POST
- 请求参数：
```json
{
    "type": "string", // 题目类型，必填
    "content": "string", // 题目内容，必填
    "difficulty": "string", // 难度等级，必填
    "score": "number", // 分值，必填
    "tags": ["string"], // 标签列表，可选
    "options": [{ // 选项列表，单选题和多选题必填
        "content": "string", // 选项内容
        "isCorrect": "boolean" // 是否正确答案
    }],
    "answer": "string", // 正确答案，判断题必填
    "analysis": "string", // 解析，可选
    "status": "number" // 状态，必填
}
```
- 响应参数：
```json
{
    "code": 200,
    "message": "success",
    "data": "string" // 新增的题目ID
}
```

##### 1.3 编辑题目
- 接口路径：`/api/question/update`
- 请求方式：POST
- 请求参数：
```json
{
    "id": "string", // 题目ID，必填
    "type": "string", // 题目类型，必填
    "content": "string", // 题目内容，必填
    "difficulty": "string", // 难度等级，必填
    "score": "number", // 分值，必填
    "tags": ["string"], // 标签列表，可选
    "options": [{ // 选项列表，单选题和多选题必填
        "content": "string", // 选项内容
        "isCorrect": "boolean" // 是否正确答案
    }],
    "answer": "string", // 正确答案，判断题必填
    "analysis": "string", // 解析，可选
    "status": "number" // 状态，必填
}
```
- 响应参数：
```json
{
    "code": 200,
    "message": "success",
    "data": null
}
```

##### 1.4 删除题目
- 接口路径：`/api/question/delete`
- 请求方式：POST
- 请求参数：
```json
{
    "id": "string" // 题目ID，必填
}
```
- 响应参数：
```json
{
    "code": 200,
    "message": "success",
    "data": null
}
```

##### 1.5 批量导入题目
- 接口路径：`/api/question/import`
- 请求方式：POST
- 请求参数：
```json
{
    "file": "file" // Excel文件，必填
}
```
- 响应参数：
```json
{
    "code": 200,
    "message": "success",
    "data": {
        "total": "number", // 总条数
        "success": "number", // 成功条数
        "fail": "number", // 失败条数
        "failDetails": [{ // 失败详情
            "row": "number", // 行号
            "message": "string" // 失败原因
        }]
    }
}
```

##### 1.6 导出题目
- 接口路径：`/api/question/export`
- 请求方式：POST
- 请求参数：
```json
{
    "ids": ["string"] // 题目ID列表，为空则导出全部
}
```
- 响应参数：
```json
{
    "code": 200,
    "message": "success",
    "data": {
        "fileUrl": "string", // 文件下载地址
        "fileName": "string" // 文件名称
    }
}
```

#### 2. 错误码说明
| 错误码 | 说明 |
|--------|------|
| 200 | 成功 |
| 400 | 请求参数错误 |
| 401 | 未授权 |
| 403 | 无权限访问 |
| 500 | 服务器内部错误 |
| 2001 | 题目不存在 |
| 2002 | 题目类型错误 |
| 2003 | 选项数量不足 |
| 2004 | 未设置正确答案 |
| 2005 | 导入文件格式错误 |
| 2006 | 导入数据验证失败 |
